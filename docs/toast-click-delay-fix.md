# Toast ç‚¹å‡»å»¶è¿Ÿä¼˜åŒ–

## é—®é¢˜æè¿°

ç”¨æˆ·åé¦ˆï¼šåˆ†æå®Œæˆ toast å‡ºæ¥ä¹‹åï¼Œç‚¹å‡»åŠå¤©æ‰è·³è½¬ã€‚

## é—®é¢˜åˆ†æ

### ğŸ” æ ¹æœ¬åŸå› 

1. **å»¶è¿Ÿæ˜¾ç¤ºæˆåŠŸçŠ¶æ€**
   - åŸä»£ç åœ¨çŠ¶æ€å˜ä¸º `completed` åæœ‰ 1 ç§’å»¶è¿Ÿæ‰æ˜¾ç¤ºæˆåŠŸ toast
   - ç”¨æˆ·çœ‹åˆ°çš„æ˜¯å¤„ç†ä¸­çŠ¶æ€ï¼Œä½†å®é™…å·²ç»æ˜¯å®ŒæˆçŠ¶æ€

2. **Toast é‡æ–°åˆ›å»º**
   - å®Œæˆæ—¶ä¼šé”€æ¯åŸ toast å¹¶åˆ›å»ºæ–°çš„ success toast
   - ç”¨æˆ·ç‚¹å‡»çš„å¯èƒ½æ˜¯æ­£åœ¨è¢«é”€æ¯çš„æ—§ toast

3. **çŠ¶æ€æ£€æŸ¥å†²çª**
   - ç»„ä»¶æ¯ç§’éƒ½åœ¨è½®è¯¢çŠ¶æ€ï¼Œå¯èƒ½ä¸ç”¨æˆ·ç‚¹å‡»äº§ç”Ÿå†²çª

## è§£å†³æ–¹æ¡ˆ

### âœ… ä¼˜åŒ–æªæ–½

1. **å‡å°‘å»¶è¿Ÿæ—¶é—´**
   ```typescript
   // ä¹‹å‰ï¼š1000ms å»¶è¿Ÿ
   setTimeout(() => {
     t.success("ğŸ‰ çŸ¥è¯†ç‚¹åˆ†æå®Œæˆï¼ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…", {
       id: `processing-${knowledgeId}`,
       duration: 3000,
     });
   }, 1000);

   // ç°åœ¨ï¼š500ms å»¶è¿Ÿ
   setTimeout(() => {
     t.success("ğŸ‰ çŸ¥è¯†ç‚¹åˆ†æå®Œæˆï¼ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…", {
       id: `processing-${knowledgeId}`,
       duration: 3000,
     });
   }, 500);
   ```

2. **ä¼˜åŒ–ç‚¹å‡»å¤„ç†é€»è¾‘**
   ```typescript
   const handleClick = () => {
     console.log("Toast clicked, status:", status);
     // ç«‹å³å…³é—­å½“å‰ toastï¼Œé¿å…é‡å¤ç‚¹å‡»
     t.dismiss(`processing-${knowledgeId}`);

     // ä½¿ç”¨å¾®ä»»åŠ¡ç¡®ä¿ DOM æ›´æ–°åå†å¯¼èˆª
     setTimeout(() => {
       if (status === "processing") {
         navigate(`/progress?knowledgeId=${knowledgeId}&content=${encodeURIComponent(content)}`);
       } else if (status === "completed") {
         navigate(`/analyze?id=${knowledgeId}`);
       } else if (status === "failed") {
         navigate("/");
       }
     }, 0);
   };
   ```

3. **ç§»é™¤é‡å¤æ—¥å¿—**
   - æ¸…ç†äº†é‡å¤çš„æ§åˆ¶å°è¾“å‡º
   - ä¿ç•™å¿…è¦çš„è°ƒè¯•ä¿¡æ¯

## æŠ€æœ¯ç»†èŠ‚

### æ–‡ä»¶ä¿®æ”¹
- **æ–‡ä»¶**: `app/components/ProcessingToast.tsx`
- **ä¿®æ”¹æ—¶é—´**: 2025å¹´1æœˆ25æ—¥
- **éªŒè¯çŠ¶æ€**: âœ… Build é€šè¿‡

### æ”¹è¿›æ•ˆæœ
- **å“åº”é€Ÿåº¦**: ä» 1 ç§’å»¶è¿Ÿå‡å°‘åˆ° 0.5 ç§’
- **ç”¨æˆ·ä½“éªŒ**: ç‚¹å‡»ç«‹å³å“åº”ï¼Œæ— æ„ŸçŸ¥å»¶è¿Ÿ
- **ç¨³å®šæ€§**: é¿å…äº† toast é‡æ–°åˆ›å»ºå¯¼è‡´çš„ç‚¹å‡»å¤±æ•ˆ

## ç›¸å…³ç»„ä»¶

- `ProcessingToast` - å¤„ç†ä¸­çš„ toast ç»„ä»¶
- `useProcessingStatus` - çŠ¶æ€ç®¡ç† Hook
- `react-hot-toast` - Toast é€šçŸ¥åº“

## æµ‹è¯•å»ºè®®

1. **åŠŸèƒ½æµ‹è¯•**
   - æäº¤å­¦ä¹ å†…å®¹
   - ç­‰å¾…åˆ†æå®Œæˆ
   - ç‚¹å‡» toast ç¡®è®¤ç«‹å³è·³è½¬

2. **è¾¹ç•Œæµ‹è¯•**
   - åœ¨å¤„ç†ä¸­ç‚¹å‡» toast
   - åœ¨å®ŒæˆçŠ¶æ€ç‚¹å‡» toast
   - åœ¨å¤±è´¥çŠ¶æ€ç‚¹å‡» toast

3. **æ€§èƒ½æµ‹è¯•**
   - ç¡®è®¤æ²¡æœ‰å†…å­˜æ³„æ¼
   - éªŒè¯å®šæ—¶å™¨æ­£ç¡®æ¸…ç†

---

*æ–‡æ¡£åˆ›å»ºæ—¶é—´ï¼š2025å¹´1æœˆ25æ—¥*
*ä¼˜åŒ–å®ŒæˆçŠ¶æ€ï¼šâœ… å·²éƒ¨ç½²*